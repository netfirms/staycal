{% extends 'base.html' %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Edit Room</h1>
<div class="bg-white p-4 rounded-xl shadow-sm border max-w-lg">
  <form method="post" action="/app/rooms/{{ room.id }}/edit" class="space-y-3" enctype="multipart/form-data">
    <div>
      <label class="block text-sm font-medium">Name</label>
      <input name="name" class="border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" value="{{ room.name }}" required />
    </div>
    <div>
      <label class="block text-sm font-medium">Capacity</label>
      <input name="capacity" type="number" min="1" class="border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" value="{{ room.capacity }}" />
    </div>
    <div>
      <label class="block text-sm font-medium">Default Rate (THB)</label>
      <input name="default_rate" type="number" step="0.01" class="border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" value="{{ room.default_rate }}" />
    </div>
    <div>
      <label class="block text-sm font-medium">Image</label>
      {% if room.image_url %}
        <img src="{{ room.image_url }}" alt="{{ room.name }}" class="h-24 w-24 object-cover rounded mb-2" />
      {% endif %}
      <input name="image" type="file" accept="image/*" class="border rounded w-full p-2" />
    </div>
    <div>
      <label class="block text-sm font-medium">OTA iCal URL (optional)</label>
      <input name="ota_ical_url" type="url" value="{{ room.ota_ical_url or '' }}" placeholder="https://example.com/calendar.ics" class="border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <p class="text-xs text-gray-500 mt-1">External calendar events from this URL will appear on the room calendar and block new overlaps.</p>
    </div>
    <div class="flex items-center gap-2">
      <a href="/app/rooms/" class="px-3 py-2 border rounded">Cancel</a>
      <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Save Changes</button>
    </div>
  </form>
</div>
{% endblock %}
